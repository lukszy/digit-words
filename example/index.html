<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Digit Words Example</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
          Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        background-color: #f5f5f5;
      }

      .container {
        background-color: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #333;
        margin-bottom: 2rem;
        text-align: center;
      }

      .input-group {
        margin-bottom: 1.5rem;
      }

      label {
        display: block;
        margin-bottom: 0.5rem;
        color: #666;
      }

      input,
      select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 1rem;
        margin-bottom: 0.5rem;
      }

      .options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .option-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .option-group label {
        margin-bottom: 0;
      }

      button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 4px;
        cursor: pointer;
        font-size: 1rem;
        width: 100%;
        transition: background-color 0.2s;
      }

      button:hover {
        background-color: #0056b3;
      }

      button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
      }

      .result {
        margin-top: 2rem;
        padding: 1rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        background-color: #f8f9fa;
        min-height: 2rem;
      }

      .result-parts {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-top: 1rem;
      }

      .result-part {
        padding: 0.5rem;
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 4px;
      }

      .result-part-label {
        font-size: 0.875rem;
        color: #666;
        margin-bottom: 0.25rem;
      }

      .error {
        color: #dc3545;
        margin-top: 0.5rem;
        font-size: 0.875rem;
      }

      .loading {
        color: #666;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Digit Words Example</h1>
      <div class="input-group">
        <label for="number">Enter a number:</label>
        <input
          type="number"
          id="number"
          step="any"
          placeholder="Enter a number"
        />
      </div>
      <div class="input-group">
        <label for="language">Select language:</label>
        <select id="language">
          <option value="pl">Polish</option>
          <option value="en">English</option>
          <option value="cz">Czech</option>
          <option value="de">German</option>
          <option value="fr">French</option>
          <option value="es">Spanish</option>
          <option value="hr">Croatian</option>
          <option value="hi">Hindi</option>
        </select>
      </div>
      <div class="options">
        <div class="option-group">
          <input type="checkbox" id="includeDecimal" checked />
          <label for="includeDecimal">Include decimal part</label>
        </div>
        <div class="option-group">
          <input type="checkbox" id="returnParts" />
          <label for="returnParts">Return parts separately</label>
        </div>
        <div class="option-group">
          <input type="checkbox" id="returnHundredths" />
          <label for="returnHundredths">Return hundredths separately</label>
        </div>
        <div class="option-group">
          <input type="checkbox" id="returnArray" />
          <label for="returnArray">Return as array</label>
        </div>
        <div class="option-group">
          <input type="checkbox" id="hundredthsAsNumber" />
          <label for="hundredthsAsNumber">Hundredths as number</label>
        </div>
      </div>
      <button id="convert">Convert to Text</button>
      <div class="result" id="result"></div>
    </div>

    <script type="module">
      import { toText } from '../src/digit-words.js';

      const numberInput = document.getElementById('number');
      const languageSelect = document.getElementById('language');
      const convertButton = document.getElementById('convert');
      const resultDiv = document.getElementById('result');
      const includeDecimalCheckbox = document.getElementById('includeDecimal');
      const returnPartsCheckbox = document.getElementById('returnParts');
      const returnHundredthsCheckbox =
        document.getElementById('returnHundredths');
      const returnArrayCheckbox = document.getElementById('returnArray');
      const hundredthsAsNumberCheckbox =
        document.getElementById('hundredthsAsNumber');

      convertButton.addEventListener('click', async () => {
        const number = numberInput.value;
        const language = languageSelect.value;

        if (!number) {
          resultDiv.textContent = 'Please enter a number';
          resultDiv.style.color = '#dc3545';
          return;
        }

        try {
          convertButton.disabled = true;
          resultDiv.textContent = 'Converting...';
          resultDiv.style.color = '#666';
          resultDiv.classList.add('loading');

          const options = {
            includeDecimal: includeDecimalCheckbox.checked,
            returnParts: returnPartsCheckbox.checked,
            returnHundredths: returnHundredthsCheckbox.checked,
            returnArray: returnArrayCheckbox.checked,
            hundredthsAsNumber: hundredthsAsNumberCheckbox.checked,
          };

          const result = await toText(number, language, options);

          if (typeof result === 'string') {
            resultDiv.textContent = result;
            resultDiv.style.color = '#333';
          } else if (Array.isArray(result)) {
            resultDiv.innerHTML = `
              <div class="result-parts">
                <div class="result-part">
                  <div class="result-part-label">Integer part:</div>
                  <div>${result[0]}</div>
                </div>
                <div class="result-part">
                  <div class="result-part-label">Hundredths:</div>
                  <div>${result[1] || 'none'}</div>
                </div>
              </div>
            `;
          } else if ('integer' in result) {
            resultDiv.innerHTML = `
              <div class="result-parts">
                <div class="result-part">
                  <div class="result-part-label">Integer part:</div>
                  <div>${result.integer}</div>
                </div>
                <div class="result-part">
                  <div class="result-part-label">Decimal part:</div>
                  <div>${result.decimal || 'none'}</div>
                </div>
              </div>
            `;
          } else if ('main' in result) {
            resultDiv.innerHTML = `
              <div class="result-parts">
                <div class="result-part">
                  <div class="result-part-label">Main number:</div>
                  <div>${result.main}</div>
                </div>
                <div class="result-part">
                  <div class="result-part-label">Hundredths:</div>
                  <div>${result.hundredths || 'none'}</div>
                </div>
              </div>
            `;
          }
        } catch (error) {
          resultDiv.textContent = error.message;
          resultDiv.style.color = '#dc3545';
        } finally {
          convertButton.disabled = false;
          resultDiv.classList.remove('loading');
        }
      });

      // Update options based on checkbox states
      returnPartsCheckbox.addEventListener('change', () => {
        if (returnPartsCheckbox.checked) {
          returnHundredthsCheckbox.checked = false;
          returnArrayCheckbox.checked = false;
        }
      });

      returnHundredthsCheckbox.addEventListener('change', () => {
        if (returnHundredthsCheckbox.checked) {
          returnPartsCheckbox.checked = false;
          returnArrayCheckbox.checked = false;
        }
      });

      returnArrayCheckbox.addEventListener('change', () => {
        if (returnArrayCheckbox.checked) {
          returnPartsCheckbox.checked = false;
          returnHundredthsCheckbox.checked = false;
        }
      });
    </script>
  </body>
</html>
